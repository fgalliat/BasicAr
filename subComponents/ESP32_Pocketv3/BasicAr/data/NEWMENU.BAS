1 ' New System Menu (GFX)
2 CLS : SCREEN 2 : BLITT 2
5 DIM MT$(3) : MT$(1)="Settings" : MT$(2)="Applications" : MT$(3)="Medias"
10 DRAWSPRT "SYSMENU",0,0,32,32,0,0
20 BLITT 0 : CLS : RECT 0,0,320,240,2,1 : ' CLS to release text
25 Y = 64 : CH = 1 : ' 2nd item by def.
28 ' Icons
30 DRAWSPRT "",60-12+0,Y,64,64,0,0
40 DRAWSPRT "",60+64+4,Y,64,64,64,0
50 DRAWSPRT "",60+12+128+8,Y,64,64,0,64
58 ' Texts
60 DRAWSPRT "",60-12+0,Y+64+8,64,24,64,64+2
70 DRAWSPRT "",60+64+4,Y+64+8,64,24-4,64,64+24+2
80 DRAWSPRT "",60+12+128+8,Y+64+8,64,24-8,64,64+24+24
90 BLITT 2
100 ' Rects
110 RECT 60-12-4, Y-4, 64+8, 64+8, 2, 0
120 RECT 60+64, Y-4, 64+8, 64+8, 2, 0
130 RECT 60+12+128+4, Y-4, 64+8, 64+8, 2, 0
210 IF CH=0 THEN RECT 60-12-4, Y-4, 64+8, 64+8, 1, 0
220 IF CH=1 THEN RECT 60+64, Y-4, 64+8, 64+8, 1, 0
230 IF CH=2 THEN RECT 60+12+128+4, Y-4, 64+8, 64+8, 1, 0
300 MV = 0 : EXP=0
305 IF ( BTN(4) = 1 ) THEN MV=1 : CH=CH-1 : IF CH<0 THEN CH=2
310 IF ( BTN(5) = 1 ) THEN MV=1 : CH=CH+1 : IF CH>2 THEN CH=0
380 IF ( BTN(1) = 1 ) THEN EXP=1
390 DELAY 100
395 IF BTN(4) OR BTN(5) OR BTN(3) OR BTN(1) GOTO 2145
397 IF EXP=1 THEN GOTO 1000
398 IF MV <> 0 THEN GOTO 100
400 GOTO 300
1000 ' draw expanded menu
1010 RECT 24,24,320-48,240-48, 0, 1
1020 RECT 24,24,320-48,240-48, 1, 0
1030 LOCATE 4,4 : ? MT$( CH+1 );
2000 MV=0 : BCK=0
2100 IF ( BTN(4) = 1 ) THEN MV=1 : CH=CH-1 : IF CH<0 THEN CH=2
2110 IF ( BTN(5) = 1 ) THEN MV=1 : CH=CH+1 : IF CH>2 THEN CH=0
2120 IF ( BTN(3) = 1 ) THEN BCK=1
2140 IF ( BTN(1) = 1 ) THEN STOP
2150 DELAY 100
2155 IF BTN(4) OR BTN(5) OR BTN(3) OR BTN(1) GOTO 2145
2157 IF BCK=1 THEN GOTO 10
2170 GOTO 2100
