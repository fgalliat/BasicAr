1 ' Game try
2 ' 32x32 -> 320x240 -> 10x7.5
5 CLS
10 SCREEN 2
15 DRAWSPRT "FF1SHEET",0,0,32,32,0,0
20 ' Coords / MaP / BLoC
25 MPW = 20 : MPH = 15 : BLC = 16
26 DIM BTX(4+1) : DIM BTY(4+1)
27 DIM MAP( MPW, MPH )
30 BLITT 0 : ' <-- DRAW MAP
35 ' draw ground
40 FOR Y = 0 TO 6/2
50 FOR X = 0 TO 9/2
65 DRAWSPRT "",64*X,64*Y,64,64,96,64+1
70 NEXT X
80 NEXT Y
85 ' draw trees
90 FOR T = 0 TO 6
95 TX=INT(RND*20) : TY=INT(RND*15)
100 DRAWSPRT "",16*TX,16*TY,16,16,110,0
105 MAP(TX+1,TY+1) = 1
110 NEXT T
150 FOR T = 0 TO 6
155 TX=INT(RND*20) : TY=INT(RND*15)
160 DRAWSPRT "",16*TX,16*TY,16,16,64,64
165 MAP(TX+1,TY+1) = 2
170 NEXT T
200 BLITT 2
260 CBT=1 : GOSUB 800
500 ' == MainLoop ==
600 B=BTN(0) : CBT=1
610 IF ( B <> 0 ) THEN BLITT 2 : STOP
620 IF BTN(4) = 1 THEN GOSUB 1000 : GOSUB 1080
650 IF BTN(5) = 1 THEN GOSUB 1000 : GOSUB 1200
660 IF BTN(6) = 1 THEN GOSUB 1000 : GOSUB 1300
670 IF BTN(7) = 1 THEN GOSUB 1000 : GOSUB 1400
695 GOSUB 3000 : ' bot move
696 GOSUB 8000 : ' draw all characters
698 ' DELAY 20
699 GOTO 600
800 ' player+bot init
850 FOR CBT = 1 TO 4
990 BTX(CBT) = INT( MPW * RND ) : BTY(CBT) = INT( MPH * RND )
900 NEXT CBT
999 RETURN
1000 ' clean curPos
1010 DRAWSPRT "",16*BTX(CBT),16*BTY(CBT),16,16,96,48
1020 ' RECT 16*BTX(CBT),16*BTY(CBT),16,16, 4, 1
1050 RETURN
1080 ' go left
1090 IF ( BTX(CBT) <= 0 ) THEN RETURN
1092 IF ( MAP(BTX(CBT)+1-1, BTY(CBT)+1) <> 0 ) THEN RETURN
1120 BTX(CBT) = BTX(CBT)-1
1140 RETURN
1200 ' go right
1220 IF ( BTX(CBT) >= MPW-1 ) THEN RETURN
1222 IF ( MAP(BTX(CBT)+1+1, BTY(CBT)+1) <> 0 ) THEN RETURN
1270 BTX(CBT) = BTX(CBT)+1
1295 RETURN
1300 ' go up
1320 IF ( BTY(CBT) <= 0 ) THEN RETURN
1322 IF ( MAP(BTX(CBT)+1, BTY(CBT)+1-1) <> 0 ) THEN RETURN
1370 BTY(CBT) = BTY(CBT)-1
1395 RETURN
1400 ' go down
1420 IF ( BTY(CBT) >= MPH-1 ) THEN RETURN
1422 IF ( MAP(BTX(CBT)+1, BTY(CBT)+1+1) <> 0 ) THEN RETURN
1470 BTY(CBT) = BTY(CBT)+1
1495 RETURN
3000 ' === Bot Moves ===
3050 ' FOR CBT = 2 TO 4
3060 CBT = INT( 3 * RND ) + 2
3075 ' draw ground @Â prev pos.
3100 GOSUB 1000
3230 I=INT(RND*40)
3240 IF I<=10 THEN GOSUB 1300
3250 IF I>10 AND I<=20 THEN GOSUB 1400
3260 IF I>20 AND I<=30 THEN GOSUB 1080
3270 IF I>30 AND I<=40 THEN GOSUB 1400
3280 ' NEXT CBT
3430 RETURN
3450 ' =========
8000 ' draw all characters
8005 BLITT 0
8010 ' FOR CBT = 1 TO 4
8020 ' 'IF (CBT=1) THEN DRAWSPRT "",16*BTX(CBT),16*BTY(CBT),16,16,64,48
8030 ' IF (CBT>1) THEN DRAWSPRT "",16*BTX(CBT),16*BTY(CBT),16,16,80,32
8040 ' NEXT CBT
8070 DRAWSPRT "",16*BTX(1),16*BTY(1),16,16,64,48
8080 DRAWSPRT "",16*BTX(CBT),16*BTY(CBT),16,16,80,32
8145 BLITT 2
8150 RETURN