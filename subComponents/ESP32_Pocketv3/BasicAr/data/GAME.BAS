1 ' Game try
2 ' 32x32 -> 320x240 -> 10x7.5
5 CLS
10 SCREEN 2
15 DRAWSPRT "FF1SHEET",0,0,32,32,0,0
20 ' PLayer / MaP / BLoC
25 PLX = 3 : PLY = 3 : MPW = 20 : MPH = 15 : BLC = 16
26 BTX = 6 : BTY = 6
27 DIM MAP( MPW, MPH )
30 BLITT 0
35 ' draw ground
40 FOR Y = 0 TO 6/2
50 FOR X = 0 TO 9/2
60 ' DRAWSPRT "",32*X,32*Y,32,32,96,48
65 DRAWSPRT "",64*X,64*Y,64,64,96,64+1
70 NEXT X
80 NEXT Y
85 ' draw trees
90 FOR T = 0 TO 6
95 TX=INT(RND*20) : TY=INT(RND*15)
100 DRAWSPRT "",16*TX,16*TY,16,16,110,0
105 MAP(TX+1,TY+1) = 1
110 NEXT T
150 FOR T = 0 TO 6
155 TX=INT(RND*20) : TY=INT(RND*15)
160 DRAWSPRT "",16*TX,16*TY,16,16,64,64
165 MAP(TX+1,TY+1) = 2
170 NEXT T
200 BLITT 2
270 GOSUB 1000
600 B=BTN(0)
620 IF BTN(4) = 1 THEN GOSUB 1080 : DELAY 100
650 IF BTN(5) = 1 THEN GOSUB 1200 : DELAY 100
660 IF BTN(6) = 1 THEN GOSUB 1300 : DELAY 100
670 IF BTN(7) = 1 THEN GOSUB 1400 : DELAY 100
690 IF ( B <> 0 ) THEN STOP
695 GOSUB 3000 : ' bot move
699 GOTO 600
1000 ' draw player [ GND / PLY ]
1010 ' DRAWSPRT "",16*PLX,16*PLY,16,16,96,48
1020 DRAWSPRT "",16*PLX,16*PLY,16,16,64,48
1030 BLITT 2
1050 RETURN
1080 ' go left
1090 IF ( PLX <= 0 ) THEN RETURN
1092 IF ( MAP(PLX+1-1, PLY+1) <> 0 ) THEN RETURN
1095 ' draw ground @ prev pos.
1100 BLITT 0 : DRAWSPRT "",16*PLX,16*PLY,16,16,96,48
1120 PLX = PLX-1
1130 GOSUB 1000 : ' player
1140 RETURN
1200 ' go right
1220 IF ( PLX >= MPW-1 ) THEN RETURN
1222 IF ( MAP(PLX+1+1, PLY+1) <> 0 ) THEN RETURN
1230 ' draw ground @ prev pos.
1250 BLITT 0 : DRAWSPRT "",16*PLX,16*PLY,16,16,96,48
1270 PLX = PLX+1
1290 GOSUB 1000 : ' player
1295 RETURN
1300 ' go up
1320 IF ( PLY <= 0 ) THEN RETURN
1322 IF ( MAP(PLX+1, PLY+1-1) <> 0 ) THEN RETURN
1330 ' draw ground @ prev pos.
1350 BLITT 0 : DRAWSPRT "",16*PLX,16*PLY,16,16,96,48
1370 PLY = PLY-1
1390 GOSUB 1000 : ' player
1395 RETURN
1400 ' go down
1420 IF ( PLY >= MPH-1 ) THEN RETURN
1422 IF ( MAP(PLX+1, PLY+1+1) <> 0 ) THEN RETURN
1430 ' draw ground @ prev pos.
1450 BLITT 0 : DRAWSPRT "",16*PLX,16*PLY,16,16,96,48
1470 PLY = PLY+1
1490 GOSUB 1000 : ' player
1495 RETURN
3000 ' === Bot Moves ===
3010 STX = PLX : STY = PLY : ' store coordsœ
3020 PLX=BTX : PLY=BTY : ' swap coords
3030 I=INT(RND*40)
3040 IF I<=10 THEN GOSUB 1300
3050 IF I>10 AND I<=20 THEN GOSUB 1400
3060 IF I>20 AND I<=30 THEN GOSUB 1080
3070 IF I>30 AND I<=40 THEN GOSUB 1400
3100 BTX = PLX : BTY = PLY : ' update coords
3200 PLX = STX : PLY = STY : ' restore coords
3230 RETURN
3250 ' =========
